<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C&E's Cafe - Place Your Order</title>
<style>
  body { font-family: Arial, sans-serif; background: #eef4fc; margin:0; padding:0; }
  header { background:#3f7fbf; color:white; text-align:center; padding:15px; }
  h1 { margin:0; }
  main { padding:20px; max-width:500px; margin:auto; }
  form label { display:block; margin:10px 0 5px; }
  select, input { width:100%; padding:8px; margin-bottom:10px; }
  button { padding:10px 15px; background:#3f7fbf; color:white; border:none; cursor:pointer; font-size:16px; }
  button:hover { background:#2e5f9e; }
  footer { text-align:center; padding:15px; background:#f2f2f2; color:#333; margin-top:20px; font-style:italic; }
</style>
</head>
<body>

<header>
  <h1>C&E's Cafe - Place Your Order</h1>
</header>

<main>
  <form id="orderForm">
    <label for="customerName">Your Name:</label>
    <input type="text" id="customerName" required placeholder="Enter your name">

    <label for="drink">Select Drink:</label>
    <select id="drink" required>
      <option value="">Please select</option>
      <option>Milo</option>
      <option>Black Tea</option>
      <option>Matcha</option>
      <option>C's Special</option>
      <option>E's Special</option>
      <option>Megacandy</option>
      <option>Green Tea</option>
      <option>Lemonginger</option>
      <option>Peaceful Pause</option>
      <option>Coffee</option>
      <option>Blackcurrant</option>
      <option>Apple Cider</option>
      <option>Raspberry Shrub</option>
      <option>Soda Water</option>
      <option>Matcha Strawberry</option>
      <option>Matcha Plain</option>
      <option>Milo Pro</option>
      <option>Milo Plain</option>
      <option>Vanilla Chai</option>
      <option>Spice Chai</option>
    </select>

    <label for="temperature">Temperature:</label>
    <select id="temperature" required>
      <option value="">Please select</option>
      <option>SUPER Hot!</option>
      <option>Hot</option>
      <option>Warm</option>
      <option>Cool</option>
      <option>Cold As</option>
    </select>

    <label for="milk">Milk:</label>
    <select id="milk">
      <option value="">None</option>
      <option>Full Cream</option>
      <option>Skim</option>
      <option>Oat</option>
      <option>Almond</option>
    </select>

    <label for="sweetener">Sweetener:</label>
    <select id="sweetener">
      <option value="">None</option>
      <option>Honey</option>
      <option>Sugar</option>
    </select>

    <button type="submit">Place Order</button>
  </form>
</main>

<footer>
  We highly appreciate recommendations to make your next visit more relaxing and pleasant
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, push, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

// -------- Firebase config ----------
const firebaseConfig = {
  apiKey: "AIzaSyAIugKjWMFbB8eDLSY5JInBM1lsyQ3bIHo",
  authDomain: "drink-order-test.firebaseapp.com",
  databaseURL: "https://drink-order-test-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "drink-order-test",
  storageBucket: "drink-order-test.firebasedestorage.app",
  messagingSenderId: "90936648282",
  appId: "1:90936648282:web:b9854c3438319db80cae63"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const ordersRef = ref(db, "orders");

// -------- Handle order submission ----------
document.getElementById("orderForm").addEventListener("submit", e => {
  e.preventDefault();

  const order = {
    customerName: document.getElementById("customerName").value.trim(),
    drink: document.getElementById("drink").value,
    temperature: document.getElementById("temperature").value,
    milk: document.getElementById("milk").value || "None",
    sweetener: document.getElementById("sweetener").value || "None",
    timestamp: new Date().toLocaleString(), // client-side timestamp
    fulfilled: false
  };

  push(ordersRef, order)
    .then(() => {
      alert("Order placed!");
      e.target.reset(); // Reset form for next customer
    })
    .catch(err => console.log(err));
});
</script>

</body>
</html>
